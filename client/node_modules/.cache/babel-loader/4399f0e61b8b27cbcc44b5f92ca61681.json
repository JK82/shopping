{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthenticateWithRedirectCallback = exports.RedirectToUserProfile = exports.RedirectToSignUp = exports.RedirectToSignIn = exports.ClerkLoading = exports.ClerkLoaded = exports.SignedOut = exports.SignedIn = void 0;\n\nconst tslib_1 = require(\"tslib\");\n\nconst react_1 = (0, tslib_1.__importDefault)(require(\"react\"));\n\nconst contexts_1 = require(\"../contexts\");\n\nconst UserContext_1 = require(\"../contexts/UserContext\");\n\nexports.SignedIn = (0, contexts_1.withUser)(_ref => {\n  let {\n    children\n  } = _ref;\n  return react_1.default.createElement(react_1.default.Fragment, null, children);\n}, 'SignedIn');\nexports.SignedOut = (0, contexts_1.withClerk)(_ref2 => {\n  let {\n    children\n  } = _ref2;\n  const userCtx = (0, UserContext_1.useUserContext)();\n  return userCtx.value === null ? react_1.default.createElement(react_1.default.Fragment, null, children) : null;\n}, 'SignedOut');\nexports.ClerkLoaded = (0, contexts_1.withClerk)(_ref3 => {\n  let {\n    children\n  } = _ref3;\n  return react_1.default.createElement(react_1.default.Fragment, null, children);\n}, 'ClerkLoaded');\n\nconst ClerkLoading = _ref4 => {\n  let {\n    children\n  } = _ref4;\n  const userCtx = (0, UserContext_1.useUserContext)();\n  return userCtx.value === undefined ? react_1.default.createElement(react_1.default.Fragment, null, children) : null;\n};\n\nexports.ClerkLoading = ClerkLoading; // DX: returnBack deprecated <=2.4.2\n// Deprecate the boolean type before removing returnBack\n\nexports.RedirectToSignIn = (0, contexts_1.withClerk)(_a => {\n  var {\n    clerk\n  } = _a,\n      props = (0, tslib_1.__rest)(_a, [\"clerk\"]);\n  const {\n    returnBack,\n    afterSignUpUrl,\n    redirectUrl,\n    afterSignInUrl\n  } = props;\n  const redirectOptions = {\n    afterSignUpUrl,\n    redirectUrl,\n    afterSignInUrl\n  };\n  const {\n    client,\n    session\n  } = clerk; // TODO: Remove temp use of __unstable__environment\n\n  const {\n    __unstable__environment\n  } = clerk;\n  const hasActiveSessions = client.activeSessions && client.activeSessions.length > 0;\n  react_1.default.useEffect(() => {\n    if (session === null && hasActiveSessions && __unstable__environment) {\n      const {\n        afterSignOutOneUrl\n      } = __unstable__environment.displayConfig;\n      void clerk.navigate(afterSignOutOneUrl);\n    } else {\n      void clerk.redirectToSignIn(returnBack || redirectOptions);\n    }\n  }, []);\n  return null;\n}, 'RedirectToSignIn'); // DX: returnBack deprecated <=2.4.2\n// Deprecate the boolean type before removing returnBack\n\nexports.RedirectToSignUp = (0, contexts_1.withClerk)(_a => {\n  var {\n    clerk\n  } = _a,\n      props = (0, tslib_1.__rest)(_a, [\"clerk\"]);\n  const {\n    returnBack,\n    afterSignUpUrl,\n    redirectUrl,\n    afterSignInUrl\n  } = props;\n  const redirectOptions = {\n    afterSignUpUrl,\n    redirectUrl,\n    afterSignInUrl\n  };\n  react_1.default.useEffect(() => {\n    void clerk.redirectToSignUp(returnBack || redirectOptions);\n  }, []);\n  return null;\n}, 'RedirectToSignUp');\nexports.RedirectToUserProfile = (0, contexts_1.withClerk)(_ref5 => {\n  let {\n    clerk\n  } = _ref5;\n  react_1.default.useEffect(() => {\n    clerk.redirectToUserProfile();\n  }, []);\n  return null;\n}, 'RedirectToUserProfile');\nexports.AuthenticateWithRedirectCallback = (0, contexts_1.withClerk)(_a => {\n  var {\n    clerk\n  } = _a,\n      handleRedirectCallbackParams = (0, tslib_1.__rest)(_a, [\"clerk\"]);\n  react_1.default.useEffect(() => {\n    void clerk.handleRedirectCallback(handleRedirectCallbackParams);\n  }, []);\n  return null;\n}, 'AuthenticateWithRedirectCallback');","map":{"version":3,"mappings":";;;;;;;;;AACA;;AAEA;;AACA;;AAGaA,mBAAqB,yBAAS,QAAiB;AAAA,MAAhB;AAAEC;AAAF,GAAgB;AAC1D,SAAOC,8DAAGD,QAAH,CAAP;AACD,CAFiC,EAE/B,UAF+B,CAArB;AAIAD,oBAAsB,0BAAU,SAAiB;AAAA,MAAhB;AAAEC;AAAF,GAAgB;AAC5D,QAAME,OAAO,GAAG,mCAAhB;AACA,SAAOA,OAAO,CAACC,KAAR,KAAkB,IAAlB,GAAyBF,8DAAGD,QAAH,CAAzB,GAA2C,IAAlD;AACD,CAHkC,EAGhC,WAHgC,CAAtB;AAKAD,sBAAwB,0BAAU,SAAiB;AAAA,MAAhB;AAAEC;AAAF,GAAgB;AAC9D,SAAOC,8DAAGD,QAAH,CAAP;AACD,CAFoC,EAElC,aAFkC,CAAxB;;AAIN,MAAMI,YAAY,GAAa,SAAiB;AAAA,MAAhB;AAAEJ;AAAF,GAAgB;AACrD,QAAME,OAAO,GAAG,mCAAhB;AACA,SAAOA,OAAO,CAACC,KAAR,KAAkBE,SAAlB,GAA8BJ,8DAAGD,QAAH,CAA9B,GAAgD,IAAvD;AACD,CAHM;;AAAMD,uBAAYK,YAAZ,C,CAKb;AACA;;AACaL,2BAAmB,0BAC7BO,EAAD,IAAwD;MAAvD;AAAEC;AAAF,MAAOD;MAAKE,KAAK,2BAAjB,SAAiB;AAChB,QAAM;AAAEC,cAAF;AAAcC,kBAAd;AAA8BC,eAA9B;AAA2CC;AAA3C,MAA8DJ,KAApE;AACA,QAAMK,eAAe,GAAG;AAAEH,kBAAF;AAAkBC,eAAlB;AAA+BC;AAA/B,GAAxB;AAEA,QAAM;AAAEE,UAAF;AAAUC;AAAV,MAAsBR,KAA5B,CAJsD,CAKtD;;AACA,QAAM;AAAES;AAAF,MAA8BT,KAApC;AAEA,QAAMU,iBAAiB,GACrBH,MAAM,CAACI,cAAP,IAAyBJ,MAAM,CAACI,cAAP,CAAsBC,MAAtB,GAA+B,CAD1D;AAEAlB,kBAAMmB,SAAN,CAAgB,MAAK;AACnB,QAAIL,OAAO,KAAK,IAAZ,IAAoBE,iBAApB,IAAyCD,uBAA7C,EAAsE;AACpE,YAAM;AAAEK;AAAF,UAAyBL,uBAAuB,CAACM,aAAvD;AACA,WAAKf,KAAK,CAACgB,QAAN,CAAeF,kBAAf,CAAL;AACD,KAHD,MAGO;AACL,WAAKd,KAAK,CAACiB,gBAAN,CAAwBf,UAAU,IAAII,eAAtC,CAAL;AACD;AACF,GAPD,EAOG,EAPH;AAQA,SAAO,IAAP;AACD,CApB6B,EAqB9B,kBArB8B,CAAnB,C,CAwBb;AACA;;AACad,2BAAmB,0BAC7BO,EAAD,IAAwD;MAAvD;AAAEC;AAAF,MAAOD;MAAKE,KAAK,2BAAjB,SAAiB;AAChB,QAAM;AAAEC,cAAF;AAAcC,kBAAd;AAA8BC,eAA9B;AAA2CC;AAA3C,MAA8DJ,KAApE;AACA,QAAMK,eAAe,GAAG;AAAEH,kBAAF;AAAkBC,eAAlB;AAA+BC;AAA/B,GAAxB;AAEAX,kBAAMmB,SAAN,CAAgB,MAAK;AACnB,SAAKb,KAAK,CAACkB,gBAAN,CAAwBhB,UAAU,IAAII,eAAtC,CAAL;AACD,GAFD,EAEG,EAFH;AAGA,SAAO,IAAP;AACD,CAT6B,EAU9B,kBAV8B,CAAnB;AAaAd,gCAAwB,0BAAU,SAAc;AAAA,MAAb;AAAEQ;AAAF,GAAa;AAC3DN,kBAAMmB,SAAN,CAAgB,MAAK;AACnBb,SAAK,CAACmB,qBAAN;AACD,GAFD,EAEG,EAFH;AAGA,SAAO,IAAP;AACD,CALoC,EAKlC,uBALkC,CAAxB;AAOA3B,2CAAmC,0BAC7CO,EAAD,IAG+C;MAH9C;AACCC;AADD,MACMD;MACFqB,4BAA4B,2BAFhC,SAEgC;AAE/B1B,kBAAMmB,SAAN,CAAgB,MAAK;AACnB,SAAKb,KAAK,CAACqB,sBAAN,CAA6BD,4BAA7B,CAAL;AACD,GAFD,EAEG,EAFH;AAGA,SAAO,IAAP;AACD,CAT6C,EAU9C,kCAV8C,CAAnC","names":["exports","children","react_1","userCtx","value","ClerkLoading","undefined","_a","clerk","props","returnBack","afterSignUpUrl","redirectUrl","afterSignInUrl","redirectOptions","client","session","__unstable__environment","hasActiveSessions","activeSessions","length","useEffect","afterSignOutOneUrl","displayConfig","navigate","redirectToSignIn","redirectToSignUp","redirectToUserProfile","handleRedirectCallbackParams","handleRedirectCallback"],"sources":["/Users/johnkeane/keanelabs/shopping-list/client/node_modules/@clerk/clerk-react/src/components/controlComponents.tsx"],"sourcesContent":["import { HandleOAuthCallbackParams } from '@clerk/types';\nimport React from 'react';\n\nimport { withClerk, withUser } from '../contexts';\nimport { useUserContext } from '../contexts/UserContext';\nimport type { RedirectToProps, WithClerkProp } from '../types';\n\nexport const SignedIn: React.FC = withUser(({ children }) => {\n  return <>{children}</>;\n}, 'SignedIn');\n\nexport const SignedOut: React.FC = withClerk(({ children }) => {\n  const userCtx = useUserContext();\n  return userCtx.value === null ? <>{children}</> : null;\n}, 'SignedOut');\n\nexport const ClerkLoaded: React.FC = withClerk(({ children }) => {\n  return <>{children}</>;\n}, 'ClerkLoaded');\n\nexport const ClerkLoading: React.FC = ({ children }) => {\n  const userCtx = useUserContext();\n  return userCtx.value === undefined ? <>{children}</> : null;\n};\n\n// DX: returnBack deprecated <=2.4.2\n// Deprecate the boolean type before removing returnBack\nexport const RedirectToSignIn = withClerk(\n  ({ clerk, ...props }: WithClerkProp<RedirectToProps>) => {\n    const { returnBack, afterSignUpUrl, redirectUrl, afterSignInUrl } = props;\n    const redirectOptions = { afterSignUpUrl, redirectUrl, afterSignInUrl };\n\n    const { client, session } = clerk;\n    // TODO: Remove temp use of __unstable__environment\n    const { __unstable__environment } = clerk as any;\n\n    const hasActiveSessions =\n      client.activeSessions && client.activeSessions.length > 0;\n    React.useEffect(() => {\n      if (session === null && hasActiveSessions && __unstable__environment) {\n        const { afterSignOutOneUrl } = __unstable__environment.displayConfig;\n        void clerk.navigate(afterSignOutOneUrl);\n      } else {\n        void clerk.redirectToSignIn((returnBack || redirectOptions) as any);\n      }\n    }, []);\n    return null;\n  },\n  'RedirectToSignIn',\n);\n\n// DX: returnBack deprecated <=2.4.2\n// Deprecate the boolean type before removing returnBack\nexport const RedirectToSignUp = withClerk(\n  ({ clerk, ...props }: WithClerkProp<RedirectToProps>) => {\n    const { returnBack, afterSignUpUrl, redirectUrl, afterSignInUrl } = props;\n    const redirectOptions = { afterSignUpUrl, redirectUrl, afterSignInUrl };\n\n    React.useEffect(() => {\n      void clerk.redirectToSignUp((returnBack || redirectOptions) as any);\n    }, []);\n    return null;\n  },\n  'RedirectToSignUp',\n);\n\nexport const RedirectToUserProfile = withClerk(({ clerk }) => {\n  React.useEffect(() => {\n    clerk.redirectToUserProfile();\n  }, []);\n  return null;\n}, 'RedirectToUserProfile');\n\nexport const AuthenticateWithRedirectCallback = withClerk(\n  ({\n    clerk,\n    ...handleRedirectCallbackParams\n  }: WithClerkProp<HandleOAuthCallbackParams>) => {\n    React.useEffect(() => {\n      void clerk.handleRedirectCallback(handleRedirectCallbackParams);\n    }, []);\n    return null;\n  },\n  'AuthenticateWithRedirectCallback',\n);\n"]},"metadata":{},"sourceType":"script"}